(()=>{"use strict";var e=document.querySelectorAll(".tab-button"),t=document.querySelectorAll(".tab-content"),n=document.getElementById("theme-toggle"),a=document.getElementById("mainDomain"),c=document.getElementById("injectCss"),s=document.getElementById("launcherModule"),r=document.getElementById("newsRssFeed"),i=document.getElementById("RssFetchFrequency"),o=document.getElementById("rss-next-pull-time"),d=new Intl.RelativeTimeFormat("en",{numeric:"auto"});function l(e){"dark"===e?document.body.setAttribute("data-theme","dark"):document.body.removeAttribute("data-theme")}chrome.storage.sync.get(["settings","theme"],(function(e){var t=e.settings;l(e.theme||"light"),a.value=t.main_domain,c.checked=t.inject_css,s.checked=t.launcher_module,r.value=t.news_rss_feed,i.value=t.rss_feed_pull_interval.toString(),chrome.alarms.get("rss_poll",(function(e){if(e){var t=new Date(e.scheduledTime),n=Date.now(),a=Math.floor((t.getTime()-n)/1e3/60),c=d.format(a,"minutes");o.textContent="Next pull in ".concat(c)}}))})),n.addEventListener("click",(function(e){e.stopImmediatePropagation(),l("light"===(document.body.getAttribute("data-theme")||"light")?"dark":"light")}));var u=function(){var e={main_domain:a.value,inject_css:c.checked,launcher_module:s.checked,rss_feed_pull_interval:parseInt(i.value,10),news_rss_feed:r.value};chrome.storage.sync.set({settings:e})};a.addEventListener("input",u),c.addEventListener("change",u),s.addEventListener("change",u),r.addEventListener("input",u),i.addEventListener("change",(function(){u(),chrome.alarms.get("rss_poll",(function(e){e&&(chrome.alarms.clear("rss_poll"),chrome.alarms.create("rss_poll",{periodInMinutes:parseInt(i.value,10)}))}))})),e.forEach((function(n){n.addEventListener("click",(function(){e.forEach((function(e){return e.classList.remove("active")})),n.classList.add("active");var a=n.getAttribute("data-tab");t.forEach((function(e){e.classList.remove("active"),e.id===a&&e.classList.add("active")}))}))}))})();
//# sourceMappingURL=popup.js.map