{"version":3,"file":"popup.js","mappings":"mBAEA,IAAMA,EAAOC,SAASC,iBAAiB,eACjCC,EAAcF,SAASC,iBAAiB,gBACxCE,EAAcH,SAASI,eAAe,gBAEtCC,EAAkBL,SAASI,eAAe,cAC1CE,EAAoBN,SAASI,eAAe,aAC5CG,EAAyBP,SAASI,eAAe,kBACjDI,EAAmBR,SAASI,eAAe,eAC3CK,EAA2BT,SAASI,eAAe,oBA4BzD,SAASM,EAAWC,GACF,SAAVA,EACAX,SAASY,KAAKC,aAAa,aAAc,QAEzCb,SAASY,KAAKE,gBAAgB,aAEtC,CA/BAC,OAAOC,QAAQC,KAAKC,IAAI,CAAC,WAAY,UAAU,SAAAC,GAC3C,IAAMC,EAAqBD,EAAOC,SAIlCV,EADqBS,EAAOR,OAAoB,SAGhDN,EAAgBgB,MAAQD,EAASE,YACjChB,EAAkBiB,QAAUH,EAASI,WACrCjB,EAAuBgB,QAAUH,EAASK,gBAC1CjB,EAAiBa,MAAQD,EAASM,aACtC,IAGAvB,EAAYwB,iBAAiB,SAAS,SAAAC,GAClCA,EAAEC,2BACF,IACMC,EAA8B,WADd9B,SAASY,KAAKmB,aAAa,eAAiB,SACpB,OAAS,QAEvDhB,OAAOC,QAAQC,KAAKe,IAAI,CAAErB,MAAOmB,IAEjCpB,EAAWoB,EACf,IAYA,IAAMG,EAAe,WACjB,IAAMb,EAAqB,CACvBE,YAAajB,EAAgBgB,MAC7BG,WAAYlB,EAAkBiB,QAC9BE,gBAAiBlB,EAAuBgB,QACxCG,cAAelB,EAAiBa,MAChCa,mBAAoBzB,EAAyBc,SAEjDR,OAAOC,QAAQC,KAAKe,IAAI,CAAEZ,SAAAA,GAC9B,EAGAf,EAAgBsB,iBAAiB,QAASM,GAC1C3B,EAAkBqB,iBAAiB,SAAUM,GAC7C1B,EAAuBoB,iBAAiB,SAAUM,GAClDzB,EAAiBmB,iBAAiB,QAASM,GAC3CxB,EAAyBkB,iBAAiB,SAAUM,GAGpDlC,EAAKoC,SAAQ,SAAAC,GACTA,EAAIT,iBAAiB,SAAS,WAC1B5B,EAAKoC,SAAQ,SAAAE,GAAC,OAAIA,EAAEC,UAAUC,OAAO,SAAS,IAC9CH,EAAIE,UAAUE,IAAI,UAElB,IAAMC,EAAYL,EAAIL,aAAa,YACnC7B,EAAYiC,SAAQ,SAAAO,GAChBA,EAAQJ,UAAUC,OAAO,UACrBG,EAAQC,KAAOF,GACfC,EAAQJ,UAAUE,IAAI,SAE9B,GACJ,GACJ,G","sources":["webpack://schoolbox-chrome-extension/./src/popup/popup.ts"],"sourcesContent":["import { Settings } from \"../types/settings\"\n\nconst tabs = document.querySelectorAll(\".tab-button\") as NodeListOf<HTMLButtonElement>\nconst tabContents = document.querySelectorAll(\".tab-content\") as NodeListOf<HTMLElement>\nconst themeToggle = document.getElementById(\"theme-toggle\") as HTMLButtonElement\n\nconst mainDomainInput = document.getElementById(\"mainDomain\") as HTMLInputElement\nconst injectCssCheckbox = document.getElementById(\"injectCss\") as HTMLInputElement\nconst launcherModuleCheckbox = document.getElementById(\"launcherModule\") as HTMLInputElement\nconst newsRssFeedInput = document.getElementById(\"newsRssFeed\") as HTMLInputElement\nconst newsSearchModuleCheckbox = document.getElementById(\"newsSearchModule\") as HTMLInputElement\n\n// Load settings\nchrome.storage.sync.get([\"settings\", \"theme\"], result => {\n    const settings: Settings = result.settings\n\n    // Load saved theme or default to light\n    const saved_theme = (result.theme as string) || \"light\"\n    applyTheme(saved_theme)\n\n    mainDomainInput.value = settings.main_domain\n    injectCssCheckbox.checked = settings.inject_css\n    launcherModuleCheckbox.checked = settings.launcher_module\n    newsRssFeedInput.value = settings.news_rss_feed\n})\n\n// Theme toggle functionality\nthemeToggle.addEventListener(\"click\", e => {\n    e.stopImmediatePropagation()\n    const current_theme = document.body.getAttribute(\"data-theme\") || \"light\"\n    const new_theme = current_theme === \"light\" ? \"dark\" : \"light\"\n\n    chrome.storage.sync.set({ theme: new_theme })\n\n    applyTheme(new_theme)\n})\n\n// Apply theme to document\nfunction applyTheme(theme: string) {\n    if (theme === \"dark\") {\n        document.body.setAttribute(\"data-theme\", \"dark\")\n    } else {\n        document.body.removeAttribute(\"data-theme\")\n    }\n}\n\n// Save settings function\nconst saveSettings = () => {\n    const settings: Settings = {\n        main_domain: mainDomainInput.value,\n        inject_css: injectCssCheckbox.checked,\n        launcher_module: launcherModuleCheckbox.checked,\n        news_rss_feed: newsRssFeedInput.value,\n        news_search_module: newsSearchModuleCheckbox.checked,\n    }\n    chrome.storage.sync.set({ settings })\n}\n\n// Add event listeners for autosave\nmainDomainInput.addEventListener(\"input\", saveSettings)\ninjectCssCheckbox.addEventListener(\"change\", saveSettings)\nlauncherModuleCheckbox.addEventListener(\"change\", saveSettings)\nnewsRssFeedInput.addEventListener(\"input\", saveSettings)\nnewsSearchModuleCheckbox.addEventListener(\"change\", saveSettings)\n\n// Tab switching logic\ntabs.forEach(tab => {\n    tab.addEventListener(\"click\", () => {\n        tabs.forEach(t => t.classList.remove(\"active\"))\n        tab.classList.add(\"active\")\n\n        const targetTab = tab.getAttribute(\"data-tab\")\n        tabContents.forEach(content => {\n            content.classList.remove(\"active\")\n            if (content.id === targetTab) {\n                content.classList.add(\"active\")\n            }\n        })\n    })\n})\n"],"names":["tabs","document","querySelectorAll","tabContents","themeToggle","getElementById","mainDomainInput","injectCssCheckbox","launcherModuleCheckbox","newsRssFeedInput","newsSearchModuleCheckbox","applyTheme","theme","body","setAttribute","removeAttribute","chrome","storage","sync","get","result","settings","value","main_domain","checked","inject_css","launcher_module","news_rss_feed","addEventListener","e","stopImmediatePropagation","new_theme","getAttribute","set","saveSettings","news_search_module","forEach","tab","t","classList","remove","add","targetTab","content","id"],"sourceRoot":""}